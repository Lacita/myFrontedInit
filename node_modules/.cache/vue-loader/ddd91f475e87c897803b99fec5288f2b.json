{"remainingRequest":"D:\\vue3\\vue3_ts_antd\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\vue3\\vue3_ts_antd\\src\\views\\comment\\list.vue?vue&type=style&index=0&id=243e0c68&scoped=true&lang=css","dependencies":[{"path":"D:\\vue3\\vue3_ts_antd\\src\\views\\comment\\list.vue","mtime":1684138810429},{"path":"D:\\vue3\\vue3_ts_antd\\node_modules\\css-loader\\dist\\cjs.js","mtime":1683334031371},{"path":"D:\\vue3\\vue3_ts_antd\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1684138891920},{"path":"D:\\vue3\\vue3_ts_antd\\node_modules\\postcss-loader\\src\\index.js","mtime":1683334033894},{"path":"D:\\vue3\\vue3_ts_antd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683333998972},{"path":"D:\\vue3\\vue3_ts_antd\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1684138891920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoudXNlci1pbWcgew0KICB3aWR0aDogNTBweDsNCiAgaGVpZ2h0OiA1MHB4Ow0KICBib3JkZXItcmFkaXVzOiA1MCU7DQp9DQo="},{"version":3,"sources":["D:\\vue3\\vue3_ts_antd\\src\\views\\comment\\list.vue"],"names":[],"mappings":";AAgFA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACR,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACpB","file":"D:/vue3/vue3_ts_antd/src/views/comment/list.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <h1>head</h1>\r\n  <el-table :data=\"commentList\" style=\"width: 100%\">\r\n    <el-table-column prop=\"id\" label=\"ID\" width=\"50px\" />\r\n    <el-table-column prop=\"userName\" label=\"用户名称\" width=\"200px\" />\r\n    <el-table-column prop=\"userImg\" label=\"用户头像\" width=\"150px\">\r\n      <template v-slot='{row}'>\r\n        <img :src=\"row.userImg\" class=\"user-img\">\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column prop=\"content\" label=\"评论内容\">\r\n    </el-table-column>\r\n    <el-table-column prop=\"createdAt\" label=\"评论时间\" width=\"200px\">\r\n      <template v-slot='{row}'>\r\n        {{ $filters.timeFormat(row.createdAt)}}\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column label=\"操作\" width=\"150px\">\r\n      <template v-slot='{row}'>\r\n        <el-button type=\"danger\" @click=\"deleteComment(row.id)\" size=\"small\">\r\n          删除\r\n        </el-button>\r\n      </template>\r\n\r\n    </el-table-column>\r\n  </el-table>\r\n\r\n</template>\r\n\r\n\r\n<script setup lang='ts'>\r\nimport { commentApi } from \"@/services/api\";\r\nimport { ElMessageBox, ElMessage } from \"element-plus\";\r\nimport { reactive, ref } from \"@vue/reactivity\";\r\n\r\n// 评论列表;\r\nlet commentList = ref<any>([\r\n  {\r\n    content: \"333333333333333333\",\r\n    createdAt: \"2022-01-25T01:51:38.000Z\",\r\n    id: 40,\r\n    updatedAt: \"2022-01-25T01:51:38.000Z\",\r\n    userImg:\r\n      \"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fup.enterdesk.com%2Fedpic%2F3c%2F12%2F4c%2F3c124c5277386c897dad2977bb964ea1.jpg&refer=http%3A%2F%2Fup.enterdesk.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1644047640&t=18b34b7201b820631afcd51035a2dacf\",\r\n    userName: \"匿名用户\",\r\n  },\r\n]);\r\n\r\nconst getCommentList = async () => {\r\n  const res: any = await commentApi.list();\r\n  commentList.value = res.dataList;\r\n};\r\n\r\ngetCommentList();\r\n\r\n// 删除\r\nconst deleteComment = async (id: number) => {\r\n  ElMessageBox.confirm(`确定删除id为${id}的评论吗`, \"提示\", {\r\n    confirmButtonText: \"确定\",\r\n    cancelButtonText: \"取消\",\r\n    type: \"warning\",\r\n  })\r\n    .then(async () => {\r\n      await commentApi.remove({ id });\r\n      ElMessage({\r\n        type: \"success\",\r\n        message: \"删除成功\",\r\n      });\r\n      getCommentList();\r\n    })\r\n    .catch(() => {\r\n      ElMessage({\r\n        type: \"info\",\r\n        message: \"已取消删除\",\r\n      });\r\n    });\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.user-img {\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n}\r\n</style>"]}]}